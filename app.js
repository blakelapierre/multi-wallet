!function t(n,e,o){function r(i,u){if(!e[i]){if(!n[i]){var l="function"==typeof require&&require;if(!u&&l)return l(i,!0);if(c)return c(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var s=e[i]={exports:{}};n[i][0].call(s.exports,function(t){var e=n[i][1][t];return r(e||t)},s,s.exports,t,n,e,o)}return e[i].exports}for(var c="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(t,n,e){"use strict";var o=t("preact-cycle"),r=t("./coins");console.log(r.coins);(0,o.render)(function(t){var n=t.coins;return(0,o.h)("ui",null,(0,o.h)(r.CoinsUI,{coins:n}))},{coins:r.coins},document.body)},{"./coins":3,"preact-cycle":"preact-cycle"}],2:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("preact-cycle"),r=i(t("bitcore-lib-cash")),c=t("./utils");i(t("./identifier"));function i(t){return t&&t.__esModule?t:{default:t}}function u(t){if(null==t)throw new TypeError("Cannot destructure undefined")}r.default;function l(t,n,e){return console.log("set_utxos",t,n,e),n.utxos=e,t.utxos=e,t}function a(t,n,e){return n.mempoolUtxos=e,t.mempoolUtxos=e,t}var s=function(t,n,e){return console.log("init",{_:t}),t.mutation=n,function(t,n,e){t.data=e,t.utxos=[],t.mempoolUtxos=[],e.utxos=t.utxos,e.mempoolUtxos=t.mempoolUtxos;var o=e.data.wallets.find(function(t){return t.pubKeyAddressString==x.toString()});console.log({wallet:o});var r=o.pubKeyAddressString;fetch("https://api.blockchair.com/bitcoin-cash/outputs?q=recipient("+r.split(":")[1]+")").then(function(t){return t.json()}).then(function(t){n(l)(o,t.data)}),fetch("https://api.blockchair.com/bitcoin-cash/mempool/outputs?q=recipient("+r.split(":")[1]+")").then(function(t){return t.json()}).then(function(t){n(a)(o,t.data)})}(t,n,e),t},f=function(t){return t},h=function(t){return alert("not implemented"),t},p=function(t,n){return alert("not implemented"),t},d=function(t,n,e){return alert("not implemented"),t},m=function(t,n){return alert("not imple"),t};console.log({btc:r.default});var v=new r.default.PrivateKey;try{var y=localStorage.getItem("bch-private-key");y?v=new r.default.PrivateKey(y):localStorage.setItem("bch-private-key",v.toWIF())}catch(t){alert('localStorage not supported!!!!!!!! private key may not be saved!!!!!!!!!!!!!!!!!!!! private key "WIF": '+v.toWIF())}var b=v.toPublicKey(),g=v.toAddress(),x=b.toAddress();console.log({pk:v,address:g,pubKey:b,pubAddress:x}),console.log(g.hashBuffer.toString("UTF-8"),x.toString());var _=function(t){var n=t.children;return(0,o.h)("satoshis",null,function(t,n){for(var e=new Array(Math.ceil(t.length/n)),o=0;o<e.length;o++){var r=0===o?0:t.length-n*(e.length-o),c=0===o?t.length%n==0?n:t.length%n:n;e[o]=t.substr(r,c),console.log(t,n,r,c,e),console.log(e,o,n,o*n,t.length,o*n>t.length-1?0:t.length-1-o*n,(e.length-o)*n)}return 0===e.length?["0"]:e}(n[0],3).join(" "))};var C=function(t,n){var e=n.utxos,r=n.mempoolUtxos;return u(t),(0,o.h)("balance",null,(0,o.h)("confirmed",null,"Confirmed: ",(0,o.h)(_,null,e.reduce(function(t,n){return t+n.value},0))),(0,o.h)("mempool",null,"Mempool: ",(0,o.h)(_,null,r.reduce(function(t,n){return t+n.value},0))))},k=function(t,n){var e=n.utxos,r=n.mempoolUtxos;return u(t),(0,o.h)("coins",null,e.map(function(t){return(0,o.h)(U,{className:"confirmed",tx:t})}),r.map(function(t){return(0,o.h)(U,{className:"mempool",tx:t})}))},U=function(t,n){var e=t.tx,r=t.className,c=n.mutation;return(0,o.h)("coin",{class:r},(0,o.h)("a",{target:"__blank",href:"https://blockchair.com/bitcoin-cash/transaction/"+e.transaction_hash},(0,o.h)(_,null,e.value)),(0,o.h)("button",{onClick:c(h)},"send"),(0,o.h)("input",{type:"checkbox",onChange:c(p,e)}))};e.default={data:{name:"Bitcoin Cash",wallets:[{pubKeyAddressString:x.toString(),utxos:[]}]},UI:(0,c.onFirstRun)(function(t,n){var e=n.mutation;console.log("first run init"),e(s)(e,t),console.log({data:t})},function(t,n){t.data;var e=n.mutation;return(0,o.h)("bitcoin-cash-ui",null,(0,o.h)("public-address",{onClick:e(f)},x.toString()),(0,o.h)("a",{target:"__blank",href:"https://blockchair.com/bitcoin-cash/address/"+x.toString()},(0,o.h)(C,null)),(0,o.h)("button",{onClick:function(){return e(d)(prompt("how much? (in satoshis please)",prompt("to where")))}},"send"),(0,o.h)("button",{onClick:function(){return e(m)(prompt("how much? (in satoshis please)"))}},"receive"),(0,o.h)("button",{onClick:function(){return alert("not implemented!")}},"mine"),(0,o.h)(k,null))})}},{"./identifier":4,"./utils":6,"bitcore-lib-cash":"bitcore-lib-cash","preact-cycle":"preact-cycle"}],3:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoinsUI=e.coins=void 0;var o=t("preact-cycle"),r=t("./utils"),c=u(t("./bitcoinCash")),i=u(t("./turtleCoin"));function u(t){return t&&t.__esModule?t:{default:t}}e.coins=[c.default,i.default],e.CoinsUI=(0,r.onFirstRun)(function(){console.log("should only run once!")},function(t){var n=t.coins;return(0,o.h)("coins-ui",null,n.map(function(t){var n=t.UI,e=t.data;return(0,o.h)(n,{data:e})}))})},{"./bitcoinCash":2,"./turtleCoin":5,"./utils":6,"preact-cycle":"preact-cycle"}],4:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("preact-cycle"),r=t("./utils"),c=function(t){return t};e.default=function(t,n){var e=n.mutation;return(0,r.onFirstRun)(function(){console.log("run",t),t.displayValue=(0,o.h)("span",null,t.name)},function(t){return(0,o.h)("identifier",{onClick:(console.log("data",t),e(c))},t.displayValue)})(t)}},{"./utils":6,"preact-cycle":"preact-cycle"}],5:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("preact-cycle");e.default={data:{name:"TurtleCoin",wallets:[]},UI:function(t){var n=t.data;return(0,o.h)("turtlecoin-ui",null,n.name," - under construction")}}},{"preact-cycle":"preact-cycle"}],6:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.onFirstRun=function(t,n){return function(){return t.apply(void 0,arguments),t=function(){},n.apply(void 0,arguments)}}},{}]},{},[1]);